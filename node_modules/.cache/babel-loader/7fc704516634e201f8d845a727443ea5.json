{"ast":null,"code":"/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport Helpers from \"./helpers\"; // Private Functions\n\nfunction getVerticalAnchor(props, datum) {\n  datum = datum || {};\n  var sign = datum._y >= 0 ? 1 : -1;\n  var labelStyle = props.style && props.style.labels || {};\n\n  if (datum.verticalAnchor || labelStyle.verticalAnchor) {\n    return datum.verticalAnchor || labelStyle.verticalAnchor;\n  } else if (!props.horizontal) {\n    return sign >= 0 ? \"end\" : \"start\";\n  } else {\n    return \"middle\";\n  }\n}\n\nfunction getTextAnchor(props, datum) {\n  datum = datum || {};\n  var style = props.style,\n      horizontal = props.horizontal;\n  var sign = datum._y >= 0 ? 1 : -1;\n  var labelStyle = style && style.labels || {};\n\n  if (datum.verticalAnchor || labelStyle.verticalAnchor) {\n    return datum.verticalAnchor || labelStyle.verticalAnchor;\n  } else if (!horizontal) {\n    return \"middle\";\n  } else {\n    return sign >= 0 ? \"start\" : \"end\";\n  }\n}\n\nfunction getAngle(props, datum) {\n  datum = datum || {};\n  var labelStyle = props.style && props.style.labels || {};\n  return datum.angle === undefined ? labelStyle.angle : datum.angle;\n}\n\nfunction getPadding(props, datum) {\n  datum = datum || {};\n  var horizontal = props.horizontal,\n      style = props.style;\n  var labelStyle = style.labels || {};\n  var defaultPadding = Helpers.evaluateProp(labelStyle.padding, props) || 0;\n  var sign = datum._y < 0 ? -1 : 1;\n  return {\n    x: horizontal ? sign * defaultPadding : 0,\n    y: horizontal ? 0 : -1 * sign * defaultPadding\n  };\n}\n\nfunction getOffset(props, datum, offset) {\n  if (props.polar) {\n    return {};\n  }\n\n  var padding = getPadding(props, datum);\n  var xOffset = props.horizontal ? -offset[1] : offset[0];\n  var yOffset = props.horizontal ? -offset[0] : offset[1];\n  return {\n    dx: padding.x + xOffset,\n    dy: padding.y + yOffset\n  };\n}\n\nfunction getPosition(props, datum) {\n  var polar = props.polar;\n\n  var _Helpers$scalePoint = Helpers.scalePoint(props, datum),\n      x = _Helpers$scalePoint.x,\n      y = _Helpers$scalePoint.y;\n\n  if (!polar) {\n    return {\n      x: x,\n      y: y\n    };\n  } else {\n    var polarPadding = getPolarPadding(props, datum);\n    return {\n      x: x + polarPadding.x,\n      y: y + polarPadding.y\n    };\n  }\n}\n\nfunction getPolarPadding(props, datum) {\n  var style = props.style;\n  var degrees = getDegrees(props, datum);\n  var labelStyle = style.labels || {};\n  var padding = Helpers.evaluateProp(labelStyle.padding, props) || 0;\n  var angle = Helpers.degreesToRadians(degrees);\n  return {\n    x: padding * Math.cos(angle),\n    y: -padding * Math.sin(angle)\n  };\n}\n\nfunction getLabelPlacement(props) {\n  var labelComponent = props.labelComponent,\n      labelPlacement = props.labelPlacement,\n      polar = props.polar;\n  var defaultLabelPlacement = polar ? \"perpendicular\" : \"vertical\";\n  return labelPlacement ? labelPlacement : labelComponent.props && labelComponent.props.labelPlacement || defaultLabelPlacement;\n}\n\nfunction getPolarOrientation(degrees) {\n  // eslint-disable-next-line no-magic-numbers\n  if (degrees < 45 || degrees > 315) {\n    return \"right\"; // eslint-disable-next-line no-magic-numbers\n  } else if (degrees >= 45 && degrees <= 135) {\n    return \"top\"; // eslint-disable-next-line no-magic-numbers\n  } else if (degrees > 135 && degrees < 225) {\n    return \"left\";\n  } else {\n    return \"bottom\";\n  }\n} // Exported Functions\n\n\nfunction getText(props, datum, index) {\n  datum = datum || {};\n\n  if (datum.label !== undefined) {\n    return datum.label;\n  }\n\n  return Array.isArray(props.labels) ? props.labels[index] : props.labels;\n}\n\nfunction getPolarTextAnchor(props, degrees) {\n  var labelPlacement = getLabelPlacement(props);\n\n  if (labelPlacement === \"perpendicular\" || labelPlacement === \"vertical\" && (degrees === 90 || degrees === 270)) {\n    return \"middle\";\n  }\n\n  return degrees <= 90 || degrees > 270 ? \"start\" : \"end\";\n}\n\nfunction getPolarVerticalAnchor(props, degrees) {\n  var labelPlacement = getLabelPlacement(props);\n  var orientation = getPolarOrientation(degrees);\n\n  if (labelPlacement === \"parallel\" || orientation === \"left\" || orientation === \"right\") {\n    return \"middle\";\n  }\n\n  return orientation === \"top\" ? \"end\" : \"start\";\n}\n\nfunction getPolarAngle(props, baseAngle) {\n  var labelPlacement = props.labelPlacement,\n      datum = props.datum;\n\n  if (!labelPlacement || labelPlacement === \"vertical\") {\n    return 0;\n  }\n\n  var degrees = baseAngle !== undefined ? baseAngle : getDegrees(props, datum);\n  var sign = degrees > 90 && degrees < 180 || degrees > 270 ? 1 : -1;\n  var angle;\n\n  if (degrees === 0 || degrees === 180) {\n    angle = 90;\n  } else if (degrees > 0 && degrees < 180) {\n    angle = 90 - degrees;\n  } else if (degrees > 180 && degrees < 360) {\n    angle = 270 - degrees;\n  }\n\n  var labelRotation = labelPlacement === \"perpendicular\" ? 0 : 90;\n  return angle + sign * labelRotation;\n}\n\nfunction getDegrees(props, datum) {\n  var _Helpers$getPoint = Helpers.getPoint(datum),\n      x = _Helpers$getPoint.x;\n\n  return Helpers.radiansToDegrees(props.scale.x(x));\n}\n\nfunction getProps(props, index) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n  var scale = props.scale,\n      data = props.data,\n      style = props.style,\n      horizontal = props.horizontal,\n      polar = props.polar,\n      width = props.width,\n      height = props.height;\n  var datum = data[index];\n  var degrees = getDegrees(props, datum);\n  var textAnchor = polar ? getPolarTextAnchor(props, degrees) : getTextAnchor(props, datum);\n  var verticalAnchor = polar ? getPolarVerticalAnchor(props, degrees) : getVerticalAnchor(props, datum);\n  var angle = getAngle(props, datum);\n  var text = getText(props, datum, index);\n  var labelPlacement = getLabelPlacement(props);\n\n  var _getPosition = getPosition(props, datum),\n      x = _getPosition.x,\n      y = _getPosition.y;\n\n  var _getOffset = getOffset(props, datum, offset),\n      dx = _getOffset.dx,\n      dy = _getOffset.dy;\n\n  return {\n    angle: angle,\n    data: data,\n    datum: datum,\n    horizontal: horizontal,\n    index: index,\n    polar: polar,\n    scale: scale,\n    labelPlacement: labelPlacement,\n    text: text,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    x: x,\n    y: y,\n    dx: dx,\n    dy: dy,\n    width: width,\n    height: height,\n    style: style.labels\n  };\n}\n\nexport default {\n  getText: getText,\n  getPolarTextAnchor: getPolarTextAnchor,\n  getPolarVerticalAnchor: getPolarVerticalAnchor,\n  getPolarAngle: getPolarAngle,\n  getDegrees: getDegrees,\n  getProps: getProps\n};","map":{"version":3,"sources":["/Users/wubs/blackbeard/black-beard/node_modules/victory-core/es/victory-util/label-helpers.js"],"names":["Helpers","getVerticalAnchor","props","datum","sign","_y","labelStyle","style","labels","verticalAnchor","horizontal","getTextAnchor","getAngle","angle","undefined","getPadding","defaultPadding","evaluateProp","padding","x","y","getOffset","offset","polar","xOffset","yOffset","dx","dy","getPosition","_Helpers$scalePoint","scalePoint","polarPadding","getPolarPadding","degrees","getDegrees","degreesToRadians","Math","cos","sin","getLabelPlacement","labelComponent","labelPlacement","defaultLabelPlacement","getPolarOrientation","getText","index","label","Array","isArray","getPolarTextAnchor","getPolarVerticalAnchor","orientation","getPolarAngle","baseAngle","labelRotation","_Helpers$getPoint","getPoint","radiansToDegrees","scale","getProps","arguments","length","data","width","height","textAnchor","text","_getPosition","_getOffset"],"mappings":"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","sourcesContent":["/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport Helpers from \"./helpers\"; // Private Functions\n\nfunction getVerticalAnchor(props, datum) {\n  datum = datum || {};\n  var sign = datum._y >= 0 ? 1 : -1;\n  var labelStyle = props.style && props.style.labels || {};\n\n  if (datum.verticalAnchor || labelStyle.verticalAnchor) {\n    return datum.verticalAnchor || labelStyle.verticalAnchor;\n  } else if (!props.horizontal) {\n    return sign >= 0 ? \"end\" : \"start\";\n  } else {\n    return \"middle\";\n  }\n}\n\nfunction getTextAnchor(props, datum) {\n  datum = datum || {};\n  var style = props.style,\n      horizontal = props.horizontal;\n  var sign = datum._y >= 0 ? 1 : -1;\n  var labelStyle = style && style.labels || {};\n\n  if (datum.verticalAnchor || labelStyle.verticalAnchor) {\n    return datum.verticalAnchor || labelStyle.verticalAnchor;\n  } else if (!horizontal) {\n    return \"middle\";\n  } else {\n    return sign >= 0 ? \"start\" : \"end\";\n  }\n}\n\nfunction getAngle(props, datum) {\n  datum = datum || {};\n  var labelStyle = props.style && props.style.labels || {};\n  return datum.angle === undefined ? labelStyle.angle : datum.angle;\n}\n\nfunction getPadding(props, datum) {\n  datum = datum || {};\n  var horizontal = props.horizontal,\n      style = props.style;\n  var labelStyle = style.labels || {};\n  var defaultPadding = Helpers.evaluateProp(labelStyle.padding, props) || 0;\n  var sign = datum._y < 0 ? -1 : 1;\n  return {\n    x: horizontal ? sign * defaultPadding : 0,\n    y: horizontal ? 0 : -1 * sign * defaultPadding\n  };\n}\n\nfunction getOffset(props, datum, offset) {\n  if (props.polar) {\n    return {};\n  }\n\n  var padding = getPadding(props, datum);\n  var xOffset = props.horizontal ? -offset[1] : offset[0];\n  var yOffset = props.horizontal ? -offset[0] : offset[1];\n  return {\n    dx: padding.x + xOffset,\n    dy: padding.y + yOffset\n  };\n}\n\nfunction getPosition(props, datum) {\n  var polar = props.polar;\n\n  var _Helpers$scalePoint = Helpers.scalePoint(props, datum),\n      x = _Helpers$scalePoint.x,\n      y = _Helpers$scalePoint.y;\n\n  if (!polar) {\n    return {\n      x: x,\n      y: y\n    };\n  } else {\n    var polarPadding = getPolarPadding(props, datum);\n    return {\n      x: x + polarPadding.x,\n      y: y + polarPadding.y\n    };\n  }\n}\n\nfunction getPolarPadding(props, datum) {\n  var style = props.style;\n  var degrees = getDegrees(props, datum);\n  var labelStyle = style.labels || {};\n  var padding = Helpers.evaluateProp(labelStyle.padding, props) || 0;\n  var angle = Helpers.degreesToRadians(degrees);\n  return {\n    x: padding * Math.cos(angle),\n    y: -padding * Math.sin(angle)\n  };\n}\n\nfunction getLabelPlacement(props) {\n  var labelComponent = props.labelComponent,\n      labelPlacement = props.labelPlacement,\n      polar = props.polar;\n  var defaultLabelPlacement = polar ? \"perpendicular\" : \"vertical\";\n  return labelPlacement ? labelPlacement : labelComponent.props && labelComponent.props.labelPlacement || defaultLabelPlacement;\n}\n\nfunction getPolarOrientation(degrees) {\n  // eslint-disable-next-line no-magic-numbers\n  if (degrees < 45 || degrees > 315) {\n    return \"right\"; // eslint-disable-next-line no-magic-numbers\n  } else if (degrees >= 45 && degrees <= 135) {\n    return \"top\"; // eslint-disable-next-line no-magic-numbers\n  } else if (degrees > 135 && degrees < 225) {\n    return \"left\";\n  } else {\n    return \"bottom\";\n  }\n} // Exported Functions\n\n\nfunction getText(props, datum, index) {\n  datum = datum || {};\n\n  if (datum.label !== undefined) {\n    return datum.label;\n  }\n\n  return Array.isArray(props.labels) ? props.labels[index] : props.labels;\n}\n\nfunction getPolarTextAnchor(props, degrees) {\n  var labelPlacement = getLabelPlacement(props);\n\n  if (labelPlacement === \"perpendicular\" || labelPlacement === \"vertical\" && (degrees === 90 || degrees === 270)) {\n    return \"middle\";\n  }\n\n  return degrees <= 90 || degrees > 270 ? \"start\" : \"end\";\n}\n\nfunction getPolarVerticalAnchor(props, degrees) {\n  var labelPlacement = getLabelPlacement(props);\n  var orientation = getPolarOrientation(degrees);\n\n  if (labelPlacement === \"parallel\" || orientation === \"left\" || orientation === \"right\") {\n    return \"middle\";\n  }\n\n  return orientation === \"top\" ? \"end\" : \"start\";\n}\n\nfunction getPolarAngle(props, baseAngle) {\n  var labelPlacement = props.labelPlacement,\n      datum = props.datum;\n\n  if (!labelPlacement || labelPlacement === \"vertical\") {\n    return 0;\n  }\n\n  var degrees = baseAngle !== undefined ? baseAngle : getDegrees(props, datum);\n  var sign = degrees > 90 && degrees < 180 || degrees > 270 ? 1 : -1;\n  var angle;\n\n  if (degrees === 0 || degrees === 180) {\n    angle = 90;\n  } else if (degrees > 0 && degrees < 180) {\n    angle = 90 - degrees;\n  } else if (degrees > 180 && degrees < 360) {\n    angle = 270 - degrees;\n  }\n\n  var labelRotation = labelPlacement === \"perpendicular\" ? 0 : 90;\n  return angle + sign * labelRotation;\n}\n\nfunction getDegrees(props, datum) {\n  var _Helpers$getPoint = Helpers.getPoint(datum),\n      x = _Helpers$getPoint.x;\n\n  return Helpers.radiansToDegrees(props.scale.x(x));\n}\n\nfunction getProps(props, index) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n  var scale = props.scale,\n      data = props.data,\n      style = props.style,\n      horizontal = props.horizontal,\n      polar = props.polar,\n      width = props.width,\n      height = props.height;\n  var datum = data[index];\n  var degrees = getDegrees(props, datum);\n  var textAnchor = polar ? getPolarTextAnchor(props, degrees) : getTextAnchor(props, datum);\n  var verticalAnchor = polar ? getPolarVerticalAnchor(props, degrees) : getVerticalAnchor(props, datum);\n  var angle = getAngle(props, datum);\n  var text = getText(props, datum, index);\n  var labelPlacement = getLabelPlacement(props);\n\n  var _getPosition = getPosition(props, datum),\n      x = _getPosition.x,\n      y = _getPosition.y;\n\n  var _getOffset = getOffset(props, datum, offset),\n      dx = _getOffset.dx,\n      dy = _getOffset.dy;\n\n  return {\n    angle: angle,\n    data: data,\n    datum: datum,\n    horizontal: horizontal,\n    index: index,\n    polar: polar,\n    scale: scale,\n    labelPlacement: labelPlacement,\n    text: text,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    x: x,\n    y: y,\n    dx: dx,\n    dy: dy,\n    width: width,\n    height: height,\n    style: style.labels\n  };\n}\n\nexport default {\n  getText: getText,\n  getPolarTextAnchor: getPolarTextAnchor,\n  getPolarVerticalAnchor: getPolarVerticalAnchor,\n  getPolarAngle: getPolarAngle,\n  getDegrees: getDegrees,\n  getProps: getProps\n};"]},"metadata":{},"sourceType":"module"}